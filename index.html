<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Swiss Transport Map- Stroy Tellers</title>
        <link rel="icon" type="image/x-icon" href="static/template_assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" crossorigin="anonymous"></script>
        <!-- jquery.js -->
        <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="static/template_assets/css/styles.css" rel="stylesheet" />
        <link href="static/css/reset.css" rel="stylesheet" type="text/css" />
        <link href="static/css/style.css" rel="stylesheet" type="text/css" />
        <style type="text/css">
            @media only screen and ( min-width: 980px ) {
            .gm-style-pbc {
            opacity: 0 !important;
            }
            }
        </style>
        <style>
         .links line {
             stroke: #999;
             stroke-opacity: 0.6;
           }

           .nodes circle {
             stroke: #fff;
             stroke-width: 1.5px;
           }
           .axis .domain {
             display: none;
           }

         </style>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="#page-top" style="font-size: 1.8em;">Story Tellers<!-- <img src="static/template_assets/img/navbar-logo.svg" /> --></a><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">Menu<i class="fas fa-bars ml-1"></i></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav text-uppercase ml-auto">
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#page-top">Map</a><li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#routine">Routine</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#connectivity">Connectivity</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#resources">Resources</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#team">Team</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->

        <style>
        /* START timebar part */

        #dashboard {
          position: absolute;
          float: left; width: calc(100% - 340px); top: 0px; left: 0;

          /*position: absolute;
          float: left;
          width: calc(100% - 340px);
          top: 0px;
          left: 50px;
          padding: 5px;
          right: 70px;
          top: 70px;
          background-color: #FAFAFA;
          border: 1px solid #717D7D;*/
        }
        #dashboard .dashboard-area { display: inline-block; vertical-align: top; text-align: center; }
        #dashboard #carbon { float: left; }
        #dashboard #time-holder { position: absolute; left: 200px; text-shadow: 1px 1px 2px rgb(33,60,71); color: rgb(220,245,255); top: 200px; font-weight: bold; margin-top: -1em; }
        #dashboard #time-holder .result { font-size: 30px; }
        #dashboard #freight { width: calc(100% - 165px); text-align: center; }
        #dashboard .stat, #options .option-name { font-size: 13px; display: inline-block; vertical-align: top; }

        #dashboard #freight .stat { margin-left: 8px; }
        #dashboard .stat .value { color: rgb(255,255,175); font-family: 'Share Tech Mono'; letter-spacing: -1px; }
        #dashboard.color-coded .stat .value { color: white; }
        body.guardian #dashboard .stat .value { font-family: inherit; font-weight: bold; letter-spacing: 0  ; }
        #dashboard .stat #result-vehicles { min-width: 74px; }
        #dashboard .stat .result { display: inline-block; line-height: 1; }
        #dashboard .filter, #dashboard .radio { font-size: 13px; }

        #options { display: inline-block; float: right; height: 100%; margin-right: 40px; }
        #options i { width: 1em; text-align: center; display: inline-block; }
        #options .option { display: inline-block; vertical-align: top; padding: 0 6px 3px; position: relative; font-size: 13px; height: 100%; }
        #options .option .option-name { height: 100%; width: 60px; }
        #options .option .option-menu { display: none; position: absolute; background: rgba(254,226,133,0.00); width: 100%; padding: 3px 6px; text-align: left; }
        #options .option .option-menu .check.checked i::before { content: "\f00c"; }
        #options.hoverable .option:hover .option-menu,
        #options .option.visible .option-menu { display: block; top: 22px; left: 0; }
        #options .radio i { visibility: hidden; }
        #options .radio.selected i { visibility: visible; }
        #options .radio-name { display: inline-block; font-size: 8px ; color: yellow}
        #options #filters .option-menu { width: 90px; }

        /* Disable the filters menu if it has the .disabled class */
        #options #filters.disabled .option-name { color: #666; cursor: default; }
        #options.hoverable #filters.disabled:hover .option-menu { color: #999; }
        #options.hoverable #filters.disabled:hover .option-menu .btn:hover { opacity: inherit; cursor: default; }
        #options #colours .option-menu { width: 120px; }
        #options #togglers .option-menu { width: 100px; }
        #options #Speedup .option-menu { width: 90px; }
        #options #Speedup.disabled .option-name { color: #666; cursor: default; }
        #options.hoverable #Speedup.disabled:hover .option-menu { color: #999; }
        #options.hoverable #Speedup.disabled:hover .option-menu .btn:hover { opacity: inherit; cursor: default; }

        #scrubber { height: 40px; left: 5% ; width: 90%; background: rgba(255,255,255,0.1); position: absolute; bottom: 40px; -moz-border-radiuseft: 0; cursor: pointer; }
        #scrubber-inner { height: 30px; position: absolute; }
        #scrubber-inner .hour { position: absolute; height: 100%; border-right: 1px white rgba(255,255,255,0.1); }
        #scrubber-inner .hour .label { position: absolute; top: -1.25em; left: 1px; font-size: 13px; }
        #scrubber-inner .hour .minute { background: rgba(255,255,255,0.25); height: 100%; border-right: 1px solid rgba(0,0,0,0.1); }
        #scrubber-inner .hour .minute.current { background: rgba(255,255,255,1); }
        #scrubber-inner .hour .minute:hover { background: black; }
        #scrubber-inner .hour .minute .load-progress { position: absolute; height: 0; bottom: 0; left: 0; background: rgba(255,255,200,0.33); }

        .btn { cursor: pointer; }
        .btn:hover { opacity: 0.5; }
        .btn.selected, .btn.selected:hover { opacity: 1; cursor: default; }

        /* END */

        </style>

        <!-- <header class="masthead"> -->
        <div id="map_canvas"></div>
        <div id="dashboard" >
          <div class="s tat" id="time-holder"><span class="result">Time <span id="day_time"></span></span></div>
        </div>
        <div id="panel" class = "hidden">
          <div style="">
              <h3>Map Filters and Info</h3>
          </div>
          <div class="section">
              <b>Speedup</b>
              <select id="time_multiply">
                  <option value="1" selected="selected">1x</option>
                  <option value="5">5x</option>
                  <option value="10">10x</option>
                  <option value="100">100x</option>
              </select>
              <!-- <br/>
              <input type="button" id="geolocation_click" />
              <input type="text" id="user_location" / > -->
          </div>
          <div id="vehicle_info" class="hidden section" data-type="panel">
              <div>
                  <b>Vehicle:</b> <span class="vehicle_name"></span> <input type="button" class="panel_collapsible expanded" />
              </div>
              <div class="panel_content">
                  <div>
                      <input id="follow_trigger" type="button" value="Follow" data-value-toggle="STOP" />
                      <input id="route_show_trigger" type="button" value="Draw route" data-value-toggle="HIDE route" />
                  </div>

                  <div id="vehicle_timetable_container">
                      <table id="vehicle_timetable" class="panel_table">
                          <thead>
                              <tr>
                                  <td>#</td>
                                  <td class="station">Station</td>
                                  <td>Arr.</td>
                                  <td>Dep.</td>
                              </tr>
                          </thead>
                          <tbody>
                          </tbody>
                      </table>
                  </div>
              </div>
          </div>
          <div id="station_info" class="hidden section" data-type="panel">
              <div>
                  <b>Station:</b> <span class="station_name"></span> <input type="button" class="panel_collapsible expanded" />
              </div>
              <div class="panel_content">
                  <table id="station_departures" class="panel_table">
                      <thead>
                          <tr>
                              <td>#</td>
                              <td class="wide">Vehicle</td>
                              <td>To</td>
                              <td>Dep.</td>
                          </tr>
                      </thead>
                      <tbody>
                      </tbody>
                  </table>
              </div>
          </div>
          <!-- FLAG: Options -->
            <div id="options" class="hoverable">
              <b><span class="nav-subhead">Options</span></b>
              <div id="togglers" class="option">
                <div class="option-name">Show <i class="fa fa-chevron-down"></i></div>
                <div class="option-menu">
                  <!-- btn decides the showing of click, checked decides the showing of toggler and fontawesome-->
                  <div id="station-toggler" class="btn check checked"><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">Stations</span></div>
                  <div id="route-toggler" class="btn check "><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">Routes</span></div>
                  <div id="train-toggler" class="btn check "><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">Trains</span></div>
                  <div id="bus-toggler" class="btn check "><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">Bus</span></div>
                  <div id="ship-toggler" class="btn check "><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">Ships</span></div>
                  <div id="map-toggler" class="btn check checked"><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">Map</span></div>
                </div>
              </div>
              <div id="colours" class="option">
                <div class="option-name">Colors <i class="fa fa-chevron-down"></i></div>
                <div class="option-menu">
                  <div data-value="shade-uniform" class="btn radio selected"><i class="fa fa-check" aria-hidden="true"  style="color:yellow"></i> <span class="radio-name">Uniform</span></div>
                  <div data-value="shade-type" class="btn radio"><i class="fa fa-check" style="color:yellow"></i> <span class="radio-name">traffic type</span></div>
                </div>
              </div>
              <div id="filters" class="option">
                <div class="option-name">Filters <i class="fa fa-chevron-down"></i></div>
                <div class="option-menu">
                  <!-- Here the data-traffic-type may should be changed -->
                  <div id="filter-type-3" data-traffic-type="3" class="btn check checked filter color"><i class="fa fa-times color-by-traffic-type" style="color:yellow"></i> <span class="radio-name">a</span> </div>
                  <div id="filter-type-0" data-traffic-type="0" class="btn check checked filter color"><i class="fa fa-times color-by-traffic-type" style="color:yellow"></i> <span class="radio-name">a</span> </div>
                  <div id="filter-type-1" data-traffic-type="1" class="btn check checked filter color"><i class="fa fa-times color-by-traffic-type" style="color:yellow"></i> <span class="radio-name">a</span> </div>
                  <div id="filter-type-2" data-traffic-type="2" class="btn check checked filter color"><i class="fa fa-times color-by-traffic-type" style="color:yellow"></i> <span class="radio-name">a</span> </div>
                  <div id="filter-type-4" data-traffic-type="4" class="btn check checked filter color"><i class="fa fa-times color-by-traffic-type" style="color:yellow"></i> <span class="radio-name">a</span> </div>
                </div>
              </div>
              <div id="Speedup" class="option">
                <div class="option-name">Speed <i class="fa fa-chevron-down"></i></div>
                <div class="option-menu">
                  <div id="one-time" class="btn check checked"><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">1x</span></div>
                  <div id="five-times" class="btn check"><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">5x</span></div>
                  <div id="ten-times" class="btn check"><i class="fa fa-times" style="color:yellow"></i> <span class="radio-name">10x</span></div>
                </div>
              </div>
            </div>

        </div>
        <div id="vehicle_popup_container" class="hidden">
          <div id="vehicle_popup">
            <span class="vehicle_name"></span>
            <br />
            <p class="status"></p>
          </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAyzNxxrLPxkfe2Jz1Iue1rKbNY5iw5JCQ&amp;v=3.20&amp;sensor=false&amp;libraries=geometry,places"></script>
        <script type="text/javascript" src="static/js/stamen.js"></script>

        <script src="static/js/infobox_packed.js"></script>
        <script src="static/js/map.js"></script>


        <div id="scrubber"></div>
        <script>

        // we build the minutes as the setInterval of 5 mins
        var HOURS = [
          { name: "00:00", minutes: 6 },
          { name: "01:00", minutes: 6 },
          { name: "02:00", minutes: 6 },
          { name: "03:00", minutes: 6 },
          { name: "04:00", minutes: 6 },
          { name: "05:00", minutes: 6 },
          { name: "06:00", minutes: 6 },
          { name: "07:00", minutes: 6 },
          { name: "08:00", minutes: 6 },
          { name: "09:00", minutes: 6 },
          { name: "10:00", minutes: 6 },
          { name: "11:00", minutes: 6 },
          { name: "12:00", minutes: 6 },
          { name: "13:00", minutes: 6 },
          { name: "14:00", minutes: 6 },
          { name: "15:00", minutes: 6 },
          { name: "16:00", minutes: 6 },
          { name: "17:00", minutes: 6 },
          { name: "18:00", minutes: 6 },
          { name: "19:00", minutes: 6 },
          { name: "20:00", minutes: 6 },
          { name: "21:00", minutes: 6 },
          { name: "22:00", minutes: 6 },
          { name: "23:00", minutes: 6 }

        ];

        var type_filter = [ 1.0, 1.0, 1.0, 1.0, 1.0 ];




        function initScrubber() {
          var $scrubber_inner = $("<div />").attr("id", "scrubber-inner").appendTo("#scrubber");

          var minute_number = 0,
              minute_width = Math.floor(window.innerWidth/(24*6 + 24)),
              scrolling = minute_width < 2;
          if (scrolling) minute_width = 2;
          var calendar_width = minute_width*(24*6),
              margin = scrolling ? 0 : (window.innerWidth - calendar_width)/2;
          for (var i = 0; i < HOURS.length; i++) {
            var $hour = $("<div />")
                .attr("class", "hour " + HOURS[i].name)
                .css("left" , margin + minute_number * minute_width + (i * 1) - 105 + "px")
                // here the calculation could be optimized , because 105 here is a not a fixed Number
                .css("width" ,minute_width * HOURS[i].minutes + 1 + "px")
                .appendTo($scrubber_inner);
            $("<div />").attr("class", "label").text(HOURS[i].name).appendTo($hour);
            for (var j = 0; j < HOURS[i].minutes; j++) {
              var $minute = $("<div />").attr("class", "minute").attr("id", "minute-" + minute_number)
                .css("position", "absolute")
                .css("top", 0)
                .css( "left" , j * minute_width + "px")
                .css( "width", minute_width + "px")
                .appendTo($hour);
                //.on("click", clickDay);
              //$("<div />").attr("class", "label").text(j).appendTo($minute);
              $("<div />").attr("class", "label").appendTo($minute);
              $("<div />").attr("class", "load-progress")
              .css( "width", minute_width + "px")
              .css("height","0px")
              .appendTo($minute);
              minute_number++;
            }
          }

        }

        initScrubber();



        // Set the color of fonts by different traffic
        function uncolorDashboardByTrafficType() {
        	$$("#dashboard .stat .color-by-traffic-type")
        		.style("color", "white");
        }

        function colorDashboardByTrafficType() {
        	$$("#dashboard .stat").each(colorTrafficTypeNames);
        }


        function colorTrafficTypeNames(d, i) {
        	var vessel_type = this.getAttribute("data-traffic-type");
        	$(this).select(".color-by-traffic-type").style("color", function() {
        		var rgb_start_index = vessel_type * 3;
        		var toRGB = function(raw) { return Math.floor(COLORS_BY_TYPE[raw]*255); }
        		return "rgb(" + toRGB(rgb_start_index) + "," + toRGB(rgb_start_index+1) + "," + toRGB(rgb_start_index+2) + ")";
        	});
        }
        // set different colors of filters
        function initControls() {
        	$$(".filter.color")
        		.each(colorTrafficTypeNames)
        		.each(function() {
        			var vessel_type = this.getAttribute("data-traffic-type");  // the number
        			$(this).on("click", function() { toggleTrafficType(vessel_type); }) // call funtion // flag stop ..
        		});

        	$$("#options .option > .option-name").on("touchstart", function() {
        		var option_element = this.parentNode,
        		    option_id = option_element.id,
        		    $option = $(option_element),
        		    is_visible = $option.classed("visible");

        		if ($option.classed("disabled")) return;

        		$("#options").classed("hoverable", false);
        		$$("#options .option").classed("visible",
        			is_visible ? false : function() { return this.id == option_id; }
        		);
        		d3.event.preventDefault();
        	});

        	$("#station-toggler").on("click", toggleStations);
        	$("#route-toggler").on("click", toggleRoutes);
        	$("#ship-toggler").on("click", toggleShips);
          $("#train-toggler").on("click", toggleTrains);
          $("#bus-toggler").on("click", toggleBuses);
        	$("#map-toggler").on("click", toggleMap);
        	$$(".radio").on("click", function() {
        		var clicked = this,
        		    menu = this.parentNode,
        		    topic = menu.parentNode.id;
        		$(menu).selectAll(".radio").classed("selected", function() { return clicked == this; });
        		if (topic == "colours") {
        			shade_type = this.getAttribute("data-value").substr("shade-".length);
        			if (shade_type == "type") shadeByType();
        			else shadeUniform();
        		}
        	});


        	//$("#map").on("click", movePlayButtonToCorner);
        	//$("#info-open").on("click", toggleInfoPanel);
        	//$$(".info-close").on("click", hideInfoPanel);
        	/*$(document).on("keyup", function() {
        		if (d3.event.keyCode != 32) return;
        		if (audio.paused) audio.play();
        		else audio.pause();
        	});
          */
          /*

        	$(".fa-twitter").on("click", clickTwitter);
        	$(".fa-facebook").on("click", clickFacebook);
        	$(".fa-code").on("click", showInfoPanel);
          */
        }
/*
        var info_panel_showing = false;
        function toggleInfoPanel() {
        	if (info_panel_showing) hideInfoPanel();
        	else showInfoPanel();
        }

        function showInfoPanel() {
        	$("#info-panel")
        		.classed("open", true)
        		.style("overflow-y", "scroll")
        		.transition().duration(750)
        		.style("width", window.innerWidth + "px")
        		.style("height", window.innerHeight + "px")
        		.transition().duration(0)
        		.style("width", "100%")
        		.style("height", "100%");
        	info_panel_showing = true;
        }

        function hideInfoPanel() {
        	var info = document.getElementById("info-panel");
        	info.scrollTop = 0;
        	$(info).classed("open", false)
        		.style("overflow-y", "hidden")
        		.style("width", window.innerWidth + "px")
        		.style("height", window.innerHeight + "px")
        		.transition().duration(750)
        		.style("width", "40px") // Do not change here without also changing the initial CSS
        		.style("height", document.getElementById("nav").getBoundingClientRect().height + "px");
        	info_panel_showing = false;
        }
        */

        /*
        function toggleTrafficType(vessel_type) {
        	if ($("#filter-type-" + vessel_type).classed("checked")) hideTrafficType(vessel_type);
        	else showTrafficType(vessel_type);
        }

        // change the type_filter(array), update the color by gl.uniform1fv
        function hideTrafficType(vessel_type) {
        	$("#filter-type-" + vessel_type).classed("checked", false);
        	type_filter[vessel_type] = 0.0;
        	gl.uniform1fv(uAlphaMultByType, type_filter);
        }

        function showShipType(vessel_type) {
        	$("#filter-type-" + vessel_type).classed("checked", true);
        	type_filter[vessel_type] = 1.0;
        	gl.uniform1fv(uAlphaMultByType, type_filter);
        };

        function toggleRoutes() {
        	if (routes_showing) hideRoutes();
        	else showRoutes();
        }

        function showRoutes() {
        	if (routes_showing) return;
        	map.removeLayer(blank_layer);
        	map.addLayer(shade_type == "uniform" ? position_layer : coloured_position_layer);
        	$("#route-toggler").classed("checked", true);
        	routes_showing = true;
        	hideShips();
        }

        function hideRoutes() {
        	if (!routes_showing) return;
        	map.removeLayer(shade_type == "uniform" ? position_layer : coloured_position_layer);
        	if (!map_showing) map.addLayer(blank_layer);
        	$("#route-toggler").classed("checked", false);
        	routes_showing = false;
        }

        function toggleMap() {
        	if (map_showing) hideMap();
        	else showMap();
        }

        function showMap() {
        	if (map_showing) return;
        	map.removeLayer(blank_layer);
        	tile_layer.addTo(map).bringToBack();
        	$("#map-toggler").classed("checked", true);
        	map_showing = true;
        	timeline.setUndo(hideMap);
        }

        function hideMap() {
        	if (!map_showing) return;
        	if (!routes_showing) map.addLayer(blank_layer);
        	map.removeLayer(tile_layer);
        	$("#map-toggler").classed("checked", false);
        	map_showing = false;
        	timeline.setUndo(showMap);
        }

        function toggleShips() {
        	if (ships_showing) hideShips();
        	else showShips();
        }

        function showShips() {
        	if (ships_showing) return;
        	canvas.style.display = "block";
        	$("#ships-toggler").classed("checked", true);
        	$("#dashboard").style("display", "block");
        	$("#filters").classed("disabled", false);
        	beginAnimation();
        	ships_showing = true;
        }

        function hideShips() {
        	if (!ships_showing) return;
        	pauseAnimation();
        	canvas.style.display = "none";
        	$("#ships-toggler").classed("checked", false);
        	$("#dashboard").style("display", "none");
        	$("#filters").classed("disabled", true);
        	ships_showing = false;
        }

        function toggleStations() {
        	if (stations_showing) hideStations();
        	else showStations();
        }

        function showStations() {
        	if (stations_showing) return;
        	// show the geojson layer
        	$("#station-toggler").classed("checked", true);
        	stations_showing = true;
        }

        function hideStations() {
        	if (!stations_showing) return;
        	// hide the geojson layer
        	$("#station-toggler").classed("checked", false);
        	stations_showing = false;
        }

        function initLabels() {
        	d3.csv("ports.csv", function(loaded_ports_data) {
        		var LABELS = loaded_ports_data;
        		var V_OFFSET = 8,
        		    H_OFFSET = 12
        		for (var i = 0; i < LABELS.length; i++) {
        			var port = LABELS[i],
        			    name = port.port_name,
        				v = port.label_position.charAt(0),
        				h = port.label_position.charAt(1);
        			if (name == "CUETA") name = "CEUTA"; // Fix typo in the Ports dataset
        			var lab = L.divIcon({ className: "geography-label port port-" + i + " " + port.harborsize });
        			L.marker([port.latitude, port.longitude], { icon: lab }).addTo(map);
        			$(".geography-label.port-" + i)
        				.style("text-align", function() { return h == "W" ? "left" : "right"; })
        				.append("div")
        				.attr("class", "port-label")
        				.text(name.replace(/ /g, " "))
        				.style("top", function() { return (v == "S" ? -V_OFFSET : V_OFFSET) + "px"; })
        				.style("left", function() { return h == "W" ? H_OFFSET + "px" : "auto"; })
        				.style("right", function() { return h == "E" ? H_OFFSET + "px" : "auto"; });
        		}
        	});
        }
        */


        </script>
            <!-- <div class="container">
                <div class="masthead-subheading">Welcome To Our Studio!</div>
                <div class="masthead-heading text-uppercase">It's Nice To Meet You</div>
                <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#routine">Tell Me More</a>
            </div> -->
        <!-- </header> -->

        <!-- routine-->
        <section class="page-section" id="routine">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Travel Routine</h2>
                    <h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
                </div>
                <div class="row text-center">
                    <div class="col-md-10">
                      <div id="my_dataviz_1"></div>
                      <svg width="960" height="800" font-family="sans-serif" font-size="10" id = "svg1"></svg>
                      <script src="https://d3js.org/d3.v4.min.js"></script>

                      <script type="text/javascript" src="static/js/routine.js">  </script>

                    </div>
                    <div class="col-md-2">
                        <h4 class="my-3">Filters and some Analysis</h4>
                        <p class="text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam architecto quo inventore harum ex magni, dicta impedit.</p>
                        <span class="fa-stack fa-4x" style="margin-top: 10%;"><i class="fas fa-circle fa-stack-2x text-primary"></i><i class="fas fa-lock fa-stack-1x fa-inverse"></i></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Connectivity-->
        <section class="page-section bg-light" id="connectivity">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Connectivity</h2>
                    <h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>

                <div class="col-md-10">

                <div class="map_bundling">
                      <script src="https://d3js.org/d3.v5.min.js"></script>
                      <script src="https://unpkg.com/topojson@3"></script>
                      <script src="https://unpkg.com/d3-delaunay@4"></script>
                      <script src="https://unpkg.com/d3-geo-voronoi@1"></script>
                      <link href="static/css/connectivity_style.css" rel="stylesheet">
                    <!-- must be 960x600 to match topojson us atlas files -->
                    <svg width="960" height="600" id = "svg2">
                      <!-- must be in this order for drawing -->
                      <g id="basemap"></g>
                      <g id="trips"></g>
                      <g id="stations"></g>
                      <g id="voronoi"></g>
                      <text id="tooltip" style="display: none;"></text>
                    </svg>

                    <script src="static/js/connectivity.js"></script>
                  </div>
                </div>

                </div>



                <!--<div class="row text-center">
                    <div class="col-md-4">
                        <h4 class="my-3">Filters and some Analysis</h4>
                        <p class="text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam architecto quo inventore harum ex magni, dicta impedit.</p>
                        <span class="fa-stack fa-4x" style="margin-top: 10%;"><i class="fas fa-circle fa-stack-2x text-primary"></i><i class="fas fa-lock fa-stack-1x fa-inverse"></i></span>
                    </div>
                </div> -->

            </div>
        </section>
        <!-- Transport Resources-->
        <section class="page-section" id="resources">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Number of Stations by type in each Canton</h2>
                    <h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
                </div>

                <div class="text-center">
                   <div class="col-md-8">
                   <div id="my_dataviz_3"></div>
                   <link href="static/css/bubble_style.css" rel="stylesheet">
                   <script src="https://d3js.org/d3.v4.min.js"></script>
                   <svg width="960" height="960" id = "svg3"></svg>

                   <script type="text/javascript" src="static/js/bubble.js"></script>

                    </div>

                </div>

            </div>
        </section>
        <!-- Team-->
        <section class="page-section bg-light" id="team">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Our Amazing Team</h2>
                    <h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="team-member">
                            <img class="mx-auto rounded-circle" src="static/template_assets/img/team/1.jpg" alt="" />
                            <h4>Mariam Hakobyan</h4>
                            <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-twitter"></i></a><a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-facebook-f"></i></a><a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="team-member">
                            <img class="mx-auto rounded-circle" src="static/template_assets/img/team/2.jpg" alt="" />
                            <h4>Tianchi Yu</h4>
                            <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-twitter"></i></a><a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-facebook-f"></i></a><a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="team-member">
                            <img class="mx-auto rounded-circle" src="static/template_assets/img/team/3.png" alt="" />
                            <h4>Wenuka Gunarathna</h4>
                            <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-twitter"></i></a><a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-facebook-f"></i></a><a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8 mx-auto text-center"><p class="large text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut eaque, laboriosam veritatis, quos non quis ad perspiciatis, totam corporis ea, alias ut unde.</p></div>
                </div>
            </div>
        </section>

        <!-- Footer-->
        <footer class="footer py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 text-lg-left">Copyright © Your Website 2020</div>
                    <div class="col-lg-4 my-3 my-lg-0">
                        <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-twitter"></i></a><a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-facebook-f"></i></a><a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                    <div class="col-lg-4 text-lg-right">All Rights Reserved</div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Contact form JS-->
        <!-- <script src="static/template_assets/mail/jqBootstrapValidation.js"></script>
        <script src="static/template_assets/mail/contact_me.js"></script> -->
        <!-- Core theme JS-->
        <script src="static/template_assets/js/scripts.js"></script>
    </body>
</html>
